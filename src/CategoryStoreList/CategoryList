import React, {Component} from 'react';
import { Route, Link } from 'react-router-dom';
import './App.css';
import Nav from './Nav/Nav.js';
import AddStore from './AddStore/AddStore';
import dummystore from'./dummystore.js';
import CategoryStoreList from './CategoryStoreList/CategoryStoreList.js';

export default class App extends Component {
  constructor(props){
    super(props);
    this.state={
      stores: dummystore.stores,
      categories: dummystore.categories,
    }
  }


  renderMainRoutes(){
    
    return(
      <span>
      <Route exact path='/addstore' component={AddStore}/>
      <Route exact path='/category/:id' component={CategoryStoreList}/>
      </span>
    )
  }
  render(){
  const categories = this.state.categories
 console.log(this.state.categories)
 
  return (
    <div className="App">
      <header className="App-header">
        <Nav />

      </header>
      <span>{this.renderMainRoutes()}</span>
      <main>
      <ul>
        <br/>
      {categories.map(category =>
        <li key={category.id}><Link to={`category/${category.id.toString()}`}><button>{category.name}</button></Link></li>
      )}
       <br/>
      </ul>
      </main>
    </div>
  );
}
}
